import{r as m,j as e,a as V,u as H,E as M,P as T,B as q,R as K,b as J,N as _,c as X,d as Q}from"./vendor-BZZKY0oR.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))h(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&h(i)}).observe(document,{childList:!0,subtree:!0});function l(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function h(s){if(s.ep)return;s.ep=!0;const r=l(s);fetch(s.href,r)}})();const Y=({onLogin:x})=>{const[d,l]=m.useState(""),[h,s]=m.useState(""),r=i=>{i.preventDefault(),d==="admin"&&h==="admin123"||d==="auth1"&&h==="auth123"||d==="auth2"&&h==="auth123"?x(d):alert("Invalid credentials!")};return e.jsxs("div",{className:"min-h-screen flex flex-col w-full bg-gradient-to-br from-blue-500 to-indigo-400 pt-16 pb-6",children:[e.jsxs("header",{className:"relative w-full flex flex-col items-center px-4 sm:px-8 md:px-16 mb-8",children:[e.jsx("img",{src:"src/assets/logo5.png",alt:"Left Icon",className:"absolute top-0 left-4 h-24 px-2 py-2"}),e.jsx("img",{src:"src/assets/logo6.png",alt:"Right Icon",className:"absolute top-0 right-4 h-24 py-2"}),e.jsx("h1",{className:"text-4xl font-bold text-white",children:"Centre for Development of Advanced Computing"}),e.jsx("h1",{className:"text-4xl font-bold text-white mt-8",children:"Login"})]}),e.jsx("div",{className:"flex justify-center  bg-sky-500/50 items-center flex-grow",children:e.jsxs("div",{className:"w-full max-w-sm bg-white p-8 rounded-lg shadow-md",children:[e.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Sign In"}),e.jsxs("form",{onSubmit:r,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"username",className:"block text-gray-700 font-semibold mb-2",children:"Username"}),e.jsx("input",{type:"text",id:"username",value:d,onChange:i=>l(i.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter username",required:!0})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"password",className:"block text-gray-700 font-semibold mb-2",children:"Password"}),e.jsx("input",{type:"password",id:"password",value:h,onChange:i=>s(i.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter password",required:!0})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 transition",children:"Login"})]})]})})]})};function Z(x){const d=atob(x.split(",")[1]),l=x.split(",")[0].split(":")[1].split(";")[0],h=new ArrayBuffer(d.length),s=new Uint8Array(h);for(let r=0;r<d.length;r++)s[r]=d.charCodeAt(r);return new Blob([h],{type:l})}const ee=({username:x,onLogout:d})=>{const[l,h]=m.useState([]),[s,r]=m.useState(null),[i,I]=m.useState([null,null,null]),[b,B]=m.useState([!0,!1,!1]);m.useState(!1);const[U,R]=m.useState(!1),[w,D]=m.useState([]),[g,u]=m.useState(null),N=a=>{const t=a.target.files[0],n=new FileReader;n.onload=p=>{const C=p.target.result,v=V(C,{type:"binary"}),W=v.SheetNames[0],E=H.sheet_to_json(v.Sheets[W]);h(E),D([]),u(null)},n.readAsBinaryString(t)},A=a=>{const t=a.target.files[0],n=new FileReader;n.onload=p=>r(p.target.result),n.readAsDataURL(t)},o=(a,t)=>{const n=t.target.files[0],p=new FileReader;p.onload=C=>{const v=[...i];v[a]=C.target.result,I(v)},p.readAsDataURL(n)},c=a=>{const t=[...b];if(t[a]=!t[a],!t[a]){const n=[...i];n[a]=null,I(n)}B(t)},f=a=>{const t=new M("landscape");return s&&t.addImage(s,"JPEG",0,0,297,210),i[0]&&t.addImage(i[0],"PNG",49.5,20,37,30),b[1]&&i[1]&&t.addImage(i[1],"PNG",128.5,20,40,30),b[2]&&i[2]&&t.addImage(i[2],"PNG",217.5,20,35,28),t.setFont("helvetica","bold"),t.setFontSize(24),t.text("Certificate of Completion",155.5,80,{align:"center"}),t.setFontSize(16),t.setFont("helvetica","normal"),t.text(`This is to certify that ${a.Name} has successfully completed the 
      ${a.Course} course from CDAC Bangalore`,155.5,90,{align:"center"}),t.setFont("helvetica","bold"),t.text(`${a.Course}`,148.5,110,{align:"center"}),t.text(`Duration: ${a.From} to ${a.To}`,148.5,130,{align:"center"}),t.setFont("helvetica","bold"),t.setFontSize(16),t.text("Dr. Mohammed Misbahuddin",30,160),t.setFont("helvetica","normal"),t.setFontSize(12),t.text("Scientist F & CI (C-HUK)",33,166),t.text("C-DAC Bangalore",36,172),t.setFont("helvetica","bold"),t.setFontSize(16),t.text("Dr. S D Sudarshan",239.5,160,{align:"center"}),t.setFont("helvetica","normal"),t.setFontSize(12),t.text("Executive Director",235.2,166,{align:"center"}),t.text("C-DAC Bangalore",236.5,172,{align:"center"}),t},j=(a,t)=>{D(t?[...w,a]:w.filter(n=>n!==a))},y=a=>{D(a?l.map((t,n)=>n):[])},P=()=>{if(w.length===0){alert("Please select at least one row to preview a certificate.");return}if(!s){alert("Please upload a background image before previewing a certificate.");return}const a=l[w[0]],t=f(a);u(t.output("datauristring"))},L=()=>{if(w.length===0){alert("Please select at least one row to send.");return}if(!s){alert("Please upload a background image before sending certificates.");return}const a=[];w.forEach(t=>{const n=l[t],C=f(n).output("datauristring");a.push({name:n.Name,course:n.Course,pdf:C})}),localStorage.setItem("unsignedCertificates",JSON.stringify(a)),alert("Selected unsigned certificates stored in localStorage!")},k=async()=>{R(!0);try{const a=localStorage.getItem("adminFinalSignedPdfs");if(!a){alert("No final signed PDFs found in localStorage.");return}const t=JSON.parse(a).filter(n=>n);if(t.length===0){alert("No final signed PDFs found in localStorage.");return}t.forEach(n=>{const p=n.pdf||n.url;if(!p){console.error("PDF record missing data:",n);return}if(p.startsWith("data:")){const C=Z(p),v=URL.createObjectURL(C);S(v,n.name),URL.revokeObjectURL(v)}else S(p,n.name)}),alert("All final signed PDFs downloaded!")}catch(a){console.error("Error receiving final signed PDFs:",a),alert("Failed to fetch final signed PDFs.")}finally{R(!1)}},S=(a,t)=>{const n=document.createElement("a");n.href=a,n.download=`${t}.pdf`,document.body.appendChild(n),n.click(),document.body.removeChild(n)};return e.jsxs("div",{className:"min-h-screen flex flex-col w-full bg-gradient-to-br from-blue-500 to-indigo-400 pt-32 pb-6",children:[e.jsxs("header",{className:"relative w-full  mt-18 mb-8 flex flex-col items-center px-4 sm:px-8 md:px-32",children:[e.jsx("img",{src:"src/assets/logo5.png",alt:"Left Icon",className:"absolute top-0 left-4 h-20 px-4 py-2"}),e.jsx("img",{src:"src/assets/logo6.png",alt:"Right Icon",className:"absolute top-0 right-4 h-20 py-2"}),e.jsx("h1",{className:"text-4xl font-bold text-white",children:"Centre for Development of Advanced Computing"}),e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Admin Dashboard"})]}),e.jsxs("div",{className:"absolute top-4 right-28 flex mt- items-center space-x-4",children:[e.jsxs("p",{className:"text-xl text-white",children:["Welcome, ",x,"!"]}),e.jsx("button",{onClick:d,className:"bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-md shadow-lg transition duration-300",children:"Logout"})]}),e.jsx("main",{className:"px-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-2xl px-4 sm:px-8 md:px-16 py-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-4",children:"Certificate Generator"}),e.jsxs("section",{className:"space-y-2 p-4 bg-gray-50 rounded-lg shadow-md mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Upload Excel File"}),e.jsx("input",{type:"file",accept:".xlsx, .xls",onChange:N,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg shadow-md space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Upload Background Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:A,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg shadow-md space-y-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Upload Logos"}),i.map((a,t)=>e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:b[t],onChange:()=>c(t),className:"h-4 w-4"}),e.jsxs("span",{className:"text-sm text-gray-700 ml-2",children:["Logo ",t+1]})]}),b[t]&&e.jsx("input",{type:"file",accept:"image/*",onChange:n=>o(t,n),className:"w-full px-2 py-1 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]},t))]})]}),e.jsxs("section",{className:"text-center p-4 bg-gray-50 rounded-lg shadow-md",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Certificate Actions"}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-4 mt-4",children:[e.jsx("button",{onClick:k,disabled:U,className:`inline-block bg-purple-500 hover:bg-purple-600 text-white px-6 py-3 rounded-md transition-colors ${U?"opacity-50 cursor-not-allowed":""}`,children:U?"Receiving...":"Receive Signed PDFs"}),e.jsx("button",{onClick:L,className:"inline-block bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-md transition-colors",children:"Send Selected Unsigned Certificates"})]})]})]}),e.jsxs("div",{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-2xl px-4 sm:px-8 md:px-16 py-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-4",children:"Preview Data & Certificate"}),l.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-auto max-h-60",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",onChange:a=>y(a.target.checked),checked:w.length===l.length})}),e.jsx("th",{className:"px-4 py-2",children:"Name"}),e.jsx("th",{className:"px-4 py-2",children:"Course"}),e.jsx("th",{className:"px-4 py-2",children:"From"}),e.jsx("th",{className:"px-4 py-2",children:"To"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((a,t)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:w.includes(t),onChange:n=>j(t,n.target.checked)})}),e.jsx("td",{className:"px-4 py-2",children:a.Name||""}),e.jsx("td",{className:"px-4 py-2",children:a.Course||""}),e.jsx("td",{className:"px-4 py-2",children:a.From||""}),e.jsx("td",{className:"px-4 py-2",children:a.To||""})]},t))})]})}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("button",{onClick:P,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",children:"Preview Certificate"})}),g&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Certificate Preview"}),e.jsx("iframe",{src:g,width:"100%",height:"400px",title:"Certificate Preview"})]})]}):e.jsx("p",{className:"text-center",children:"No data uploaded yet."})]})]})})]})},te=({username:x,onLogout:d})=>{const[l,h]=m.useState([]),[s,r]=m.useState([]),[i,I]=m.useState(null),[b,B]=m.useState([]);m.useEffect(()=>{const o=localStorage.getItem("unsignedCertificates");if(o){const c=JSON.parse(o);h(c)}},[]);const U=async(o,c)=>new Promise((f,j)=>{const y=new FileReader;y.onloadend=()=>{localStorage.setItem(o,y.result),f()},y.onerror=j,y.readAsDataURL(c)}),R=async o=>(localStorage.setItem("auth2SignedPdfs",JSON.stringify(o)),Promise.resolve()),w=o=>{const c=o.indexOf("base64,")+7,f=o.substring(c),j=atob(f),y=new Array(j.length);for(let S=0;S<j.length;S++)y[S]=j.charCodeAt(S);const P=new Uint8Array(y),L=new Blob([P],{type:"application/pdf"}),k=URL.createObjectURL(L);window.open(k,"_blank")},D=o=>{const c=o.target.files[0];if(c&&c.type==="image/jpeg"){const f=new FileReader;f.onload=j=>{I(j.target.result)},f.readAsDataURL(c)}else alert("Only JPG signatures are allowed.")},g=o=>{s.includes(o)?r(s.filter(c=>c!==o)):r([...s,o])},u=o=>{o.target.checked?r(l.map((c,f)=>f)):r([])},N=async()=>{if(s.length===0){alert("Please select at least one unsigned PDF to sign.");return}if(!i){alert("Please upload a signature first.");return}const o=[];for(const f of s){const j=l[f],y=atob(j.pdf.split(",")[1]),P=new Array(y.length);for(let F=0;F<y.length;F++)P[F]=y.charCodeAt(F);const L=new Uint8Array(P),k=await T.load(L),S=Uint8Array.from(atob(i.split(",")[1]),F=>F.charCodeAt(0)),a=await k.embedJpg(S);k.getPages()[0].drawImage(a,{x:100,y:160,width:120,height:60});const E=await k.save(),z=new Blob([E],{type:"application/pdf"}),O=URL.createObjectURL(z),G=j.name.replace("unsigned-certificate","signed-certificate");try{await U(G,z),o.push({name:G,url:O}),window.open(O,"_blank")}catch(F){console.error("Error storing signed PDF:",F),alert("Error storing signed PDF in localStorage.")}}alert("Selected PDFs signed successfully."),B(f=>[...f,...o]);const c=l.filter((f,j)=>!s.includes(j));h(c),r([]),localStorage.setItem("unsignedCertificates",JSON.stringify(c)),localStorage.setItem("auth1SignedPdfs",JSON.stringify([...b,...o]))},A=async()=>{if(b.length===0){alert("No signed PDFs available to send.");return}try{await R(b),alert("Signed PDFs have been sent to Auth2 and stored in localStorage."),console.log("Signed PDFs stored for Auth2:",b)}catch(o){console.error("Error storing signed PDFs for Auth2:",o),alert("Error sending signed PDFs to Auth2.")}};return e.jsxs("div",{className:"min-h-screen flex flex-col w-full bg-gradient-to-br from-blue-500 to-indigo-400 pt-16 pb-6",children:[e.jsxs("header",{className:"relative w-full mt-12 mb-8 flex flex-col items-center px-4 sm:px-8 md:px-16",children:[e.jsx("img",{src:"src/assets/logo5.png",alt:"Left Icon",className:"absolute top-0 left-4 h-24 px-2 py-2"}),e.jsx("img",{src:"src/assets/logo6.png",alt:"Right Icon",className:"absolute top-0 right-4 h-24 py-2 "}),e.jsx("h1",{className:"text-4xl font-bold text-white",children:"Centre for Development of Advanced Computing"}),e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Auth1 Dashboard"}),e.jsxs("div",{className:"absolute top-8 right-4 flex mt-16 items-center space-x-4",children:[e.jsxs("p",{className:"text-xl text-white",children:["Welcome, ",x,"!"]}),e.jsx("button",{onClick:d,className:"bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-md shadow-lg transition duration-300",children:"Logout"})]})]}),e.jsx("main",{className:"flex items-center justify-center px-4",children:e.jsxs("div",{className:"w-full max-w-4xl bg-white rounded-2xl shadow-2xl px-4 sm:px-8 md:px-16 py-6 transform transition-transform duration-300 hover:scale-105",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Unsigned PDFs Inbox"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-lg font-semibold mb-2",children:"Upload Signature:"}),e.jsx("input",{type:"file",accept:"image/jpeg",onChange:D,className:"border p-2 w-full rounded-md"}),i&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-green-600",children:"Signature uploaded successfully!"}),e.jsx("img",{src:i,alt:"Uploaded signature",className:"mt-2 h-16"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("input",{type:"checkbox",onChange:u,checked:l.length>0&&s.length===l.length,className:"mr-2"}),e.jsx("span",{children:"Select All"})]}),e.jsx("div",{className:"max-h-60 overflow-y-auto border p-4 rounded-md bg-white shadow mb-4",children:l.length>0?e.jsx("ul",{className:"space-y-4",children:l.map((o,c)=>e.jsxs("li",{className:"flex justify-between items-center bg-gray-100 p-3 rounded-md",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:s.includes(c),onChange:()=>g(c),className:"mr-2"}),o.name.replace("unsigned-certificate-","")]}),e.jsx("button",{onClick:()=>w(o.pdf),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"View"})]},c))}):e.jsx("p",{className:"text-gray-500",children:"No unsigned PDFs found."})})]}),e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsx("button",{onClick:N,className:"bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600",children:"Sign Selected PDFs"}),e.jsx("button",{onClick:A,className:"bg-purple-500 text-white px-6 py-2 rounded hover:bg-purple-600",children:"Send to Auth2"})]})]})})]})},se=({username:x,onLogout:d})=>{const[l,h]=m.useState([]),[s,r]=m.useState([]),[i,I]=m.useState(null),[b,B]=m.useState([]);m.useEffect(()=>{const g=localStorage.getItem("auth1SignedPdfs");if(g){const u=JSON.parse(g);h(u)}},[]);const U=g=>{const u=g.target.files[0];if(u&&u.type==="image/jpeg"){const N=new FileReader;N.onload=A=>{I(A.target.result)},N.readAsDataURL(u)}else alert("Only JPG signatures are allowed.")},R=g=>{window.open(g,"_blank")},w=async()=>{if(s.length===0){alert("Please select at least one signed PDF.");return}if(!i){alert("Please upload your second signature.");return}const g=[];for(const o of s){const c=l[o],y=await(await(await fetch(c.url)).blob()).arrayBuffer(),P=await T.load(new Uint8Array(y)),L=i.split(",")[1],k=Uint8Array.from(atob(L),F=>F.charCodeAt(0)),S=await P.embedJpg(k),t=P.getPages()[0],{width:n}=t.getSize(),p=120,C=60,v=n-p-86;t.drawImage(S,{x:v,y:160,width:p,height:C});const E=await P.save(),z=new Blob([E],{type:"application/pdf"}),O=URL.createObjectURL(z),G=c.name.replace("signed-certificate","final-signed-certificate");g.push({name:G,url:O}),window.open(O,"_blank")}alert("Selected PDFs have been final signed."),B(o=>[...o,...g]);const u=l.filter((o,c)=>!s.includes(c));h(u),r([]),localStorage.setItem("auth1SignedPdfs",JSON.stringify(u));const N=localStorage.getItem("finalSignedPdfs");let A=N?JSON.parse(N):[];A=[...A,...g],localStorage.setItem("finalSignedPdfs",JSON.stringify(A))},D=()=>{if(b.length===0){alert("No final signed PDFs available to send.");return}localStorage.setItem("adminFinalSignedPdfs",JSON.stringify(b)),alert("Final signed PDFs have been sent to Admin (stored in localStorage).")};return e.jsxs("div",{className:"min-h-screen flex flex-col w-full bg-gradient-to-br from-blue-500 to-indigo-400   pt-8 pb-4",children:[e.jsxs("header",{className:"relative w-full mt-12 mb-8 flex flex-col items-center px-4 sm:px-8 md:px-16",children:[e.jsx("img",{src:"src/assets/logo5.png",alt:"Left Icon",className:"absolute top-0 left-4 h-24 px-2 py-2"}),e.jsx("img",{src:"src/assets/logo6.png",alt:"Right Icon",className:"absolute top-0 right-4 h-24 py-2"}),e.jsx("h1",{className:"text-4xl font-bold text-white",children:"Centre for Development of Advanced Computing"}),e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Auth2 Dashboard"}),e.jsxs("div",{className:"absolute top-8 right-4 flex mt-16 items-center space-x-4",children:[e.jsxs("p",{className:"text-xl text-white",children:["Welcome, ",x,"!"]}),e.jsx("button",{onClick:d,className:"bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-md shadow-lg transition duration-300",children:"Logout"})]})]}),e.jsx("main",{className:"flex items-center justify-center px-4",children:e.jsxs("div",{className:"w-full max-w-4xl bg-white rounded-2xl shadow-2xl px-4 sm:px-8 md:px-16 py-6 transform transition-transform duration-300 hover:scale-105",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Signed Certificates from Auth1"}),e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"block font-semibold mb-2",children:[e.jsx("input",{type:"checkbox",checked:l.length>0&&s.length===l.length,onChange:g=>{g.target.checked?r(l.map((u,N)=>N)):r([])},className:"mr-2"}),e.jsx("span",{children:"Select All"})]})}),e.jsx("div",{className:"max-h-60 overflow-y-auto border p-4 rounded-md bg-white shadow mb-4",children:l.length>0?e.jsx("ul",{className:"space-y-4",children:l.map((g,u)=>e.jsxs("li",{className:"flex justify-between items-center bg-gray-100 p-3 rounded-md",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:s.includes(u),onChange:()=>{s.includes(u)?r(s.filter(N=>N!==u)):r([...s,u])},className:"mr-2"}),e.jsx("span",{children:g.name.replace("signed-certificate","")})]}),e.jsx("button",{onClick:()=>R(g.url),className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:"View"})]},u))}):e.jsx("p",{className:"text-gray-500",children:"No signed PDFs found."})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-lg font-semibold mb-2",children:"Upload Signature:"}),e.jsx("input",{type:"file",accept:"image/jpeg",onChange:U,className:"border p-2 w-full rounded-md"}),i&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-green-600",children:"Signature uploaded successfully!"}),e.jsx("img",{src:i,alt:"Uploaded signature",className:"mt-2 h-16"})]})]}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("button",{onClick:w,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Sign Selected Final PDFs"})}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("button",{onClick:D,className:"bg-purple-500 text-white px-6 py-2 rounded hover:bg-purple-600",children:"Send Final PDFs to Admin"})}),e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Final Signed PDFs"}),e.jsx("div",{className:"max-h-60 overflow-y-auto border p-4 rounded-md bg-white shadow mb-4",children:b.length>0?e.jsx("ul",{className:"space-y-4",children:b.map((g,u)=>e.jsxs("li",{className:"flex justify-between items-center bg-gray-100 p-3 rounded-md",children:[e.jsx("span",{children:g.name}),e.jsx("button",{onClick:()=>window.open(g.url,"_blank"),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"View Final PDF"})]},u))}):e.jsx("p",{className:"text-gray-500",children:"No final signed PDFs available."})})]})})]})};function ae(){const[x,d]=m.useState(!1),[l,h]=m.useState(""),s=r=>{h(r),d(!0)};return e.jsx(q,{children:e.jsxs(K,{children:[e.jsx(J,{path:"/",element:x?l==="admin"?e.jsx(_,{to:"/admin"}):l==="auth1"?e.jsx(_,{to:"/auth1"}):e.jsx(_,{to:"/auth2"}):e.jsx(Y,{onLogin:s})}),e.jsx(J,{path:"/admin",element:e.jsx($,{username:l,expected:"admin",Component:ee})}),e.jsx(J,{path:"/auth1",element:e.jsx($,{username:l,expected:"auth1",Component:te})}),e.jsx(J,{path:"/auth2",element:e.jsx($,{username:l,expected:"auth2",Component:se})}),e.jsx(J,{path:"*",element:e.jsx(_,{to:"/"})})]})})}function $({username:x,expected:d,Component:l}){const h=X(),s=()=>{h("/"),window.location.reload()};return x===d?e.jsx(l,{username:x,onLogout:s}):e.jsx(_,{to:"/"})}Q.createRoot(document.getElementById("root")).render(e.jsx(m.StrictMode,{children:e.jsx(ae,{})}));
